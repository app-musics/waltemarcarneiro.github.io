<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Slide de Popups</title>
        <link rel="stylesheet" type="text/css" href="intro.css">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <!-- FAVICON-->
        <link rel="apple-touch-icon" sizes="180x180" href="../icons/apple-touch-icon-180x180.png"/>
        <link rel="icon" type="image/png" sizes="32x32" href="../icons/favicon-32x32.png"/>
        <link rel="icon" type="image/png" sizes="16x16" href="../icons/favicon-16x16.png"/>
        <link rel="mask-icon" href="../icons/safari-pinned-tab.svg" color="#0f0f0f"/>
        <meta name="msapplication-TileColor" content="#0f0f0f"/>
        <meta name="theme-color" content="#0f0f0f"/>
        <link rel="shortcut icon" href="../icons/favicon-32x32.png"/>
        <!-- SEO | OG -->
        <meta name="apple-mobile-web-app-capable" content="yes"/>
        <meta name="keywords" content="Waltemar"/>
        <meta property="og:title" content="Waltemar Carneiro | Intros"/>
        <meta property="og:image" content="https://waltemarcarneiro.github.io/image/og-intros.png"/>
        <meta content='website' property='og:type'/>
        <meta property="og:site_name" content="Waltemar Carneiro"/>
        <meta property="og:description" content="Videos Slide Popups"/>
        <meta name="mobile-web-app-capable" content="yes"/>
    </head>
    <body>
        <div class="slide-container">
            <div class="popup slide">
                <div class="popup-content">
                    <button class="close-button material-icons">close</button>
                    <div>
                        <video class="content" src="https://docs.google.com/uc?id=11gQWYNeZzIsIvUF1I1Dvubm1Jgzx6mJm" controls type="video/mp4" poster="v3.jpg"></video>
                    </div>
                    
                </div>
                <div class="popup-buttons">
                    <button class="prev-button material-icons">arrow_back</button>
                    <button class="next-button material-icons">arrow_forward</button>
                </div>
            </div>

            <div class="popup slide">
                <div class="popup-content">
                    <button class="close-button material-icons">close</button>
                    <div>
                        <video class="content" src="https://docs.google.com/uc?id=11gQWYNeZzIsIvUF1I1Dvubm1Jgzx6mJm" controls type="video/mp4" poster="v4.jpg"></video>
                    </div>
                    
                </div>
                <div class="popup-buttons">
                    <button class="prev-button material-icons">arrow_back</button>
                    <button class="next-button material-icons">arrow_forward</button>
                </div>
            </div>
            
        </div>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
            const popups = document.querySelectorAll(".popup");
            const prevButtons = document.querySelectorAll(".prev-button");
            const nextButtons = document.querySelectorAll(".next-button");
            const videos = document.querySelectorAll('video');

            let currentPopupIndex = 0;

            function showPopup(index) {
                popups.forEach(popup => popup.classList.remove("show"));
                popups[index].classList.add("show");
                currentPopupIndex = index;
                playCurrentVideo();
            }

            function prevPopup() {
                currentPopupIndex = (currentPopupIndex - 1 + popups.length) % popups.length;
                showPopup(currentPopupIndex);
            }

            function nextPopup() {
                currentPopupIndex = (currentPopupIndex + 1) % popups.length;
                showPopup(currentPopupIndex);
            }

            function playCurrentVideo() {
                videos[currentPopupIndex].play();
            }

            popups.forEach((popup, index) => {
                popup.querySelector(".close-button").addEventListener("click", () => {
                    popup.classList.remove("show");
                    videos[currentPopupIndex].pause(); // Pausar o vídeo ao fechar o popup
                    videos[currentPopupIndex].currentTime = 0; // Retorna para o início do vídeo
                });

                prevButtons[index].addEventListener("click", prevPopup);
                nextButtons[index].addEventListener("click", nextPopup);
            });

            showPopup(currentPopupIndex);
        });
//

    document.addEventListener("play", function (evt) {
        if (this.$MediaPlaying && this.$MediaPlaying !== evt.target) {
            this.$MediaPlaying.pause();
        }
        this.$MediaPlaying = evt.target;
    }, true);

        </script>
    </body>
</html>